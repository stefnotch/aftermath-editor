<!DOCTYPE html>
<head>
  <meta charset="utf-8" />
  <title>Mathml Editor</title>
  <style></style>
</head>
<body>
  <div style="width: 15em">
    This mathematical formula with a big summation and the number pi
    <math display="block" style="font-family: STIX Two" tabindex="0">
      <mrow>
        <munderover>
          <mo>∑</mo>
          <mrow><mi>n</mi><mo>=</mo><mn>0</mn></mrow>
          <mrow><mo>+</mo><mn>∞</mn></mrow>
        </munderover>
        <mfrac>
          <mn>1</mn>
          <msup><mi>n</mi><mn>2</mn></msup>
        </mfrac>
      </mrow>
      <mo>=</mo>
      <mfrac>
        <msup><mi>π</mi><mn>2</mn></msup>
        <mn>6</mn>
      </mfrac>
    </math>
    is easy to prove. This is a test
    <math display="block" style="font-family: STIX Two" tabindex="0">
      <munderover>
        <mo>cat</mo>
        <mn>27</mn>
        <mn>∞</mn>
      </munderover>
      <mo>=</mo>
      <mo>&lt;</mo>
      <mo>&gt;</mo>
      <mo>=</mo>
      <munderover>
        <mo>cat</mo>
        <mn>27</mn>
        <mn>∞</mn>
      </munderover>
    </math>

    An annotated test case.
    <br />
    One approach is to only place the caret at new-edges. All other edges get
    skipped. (And certain elements get ignored.) Alrighty, this works. Now we
    just need to fix the caret (position and size)
    <math>
      <!--|-->
      <mfrac>
        <mi> <!--|-->π<!--|--> </mi>
        <mn> <!--|-->6<!--|--> </mn>
      </mfrac>
      <!--|-->
      <mo>+</mo>
      <!--|-->
      <mfrac>
        <mi> <!--|-->π<!--|--> </mi>
        <mn> <!--|-->6<!--|--> </mn>
      </mfrac>
      <!--|-->
      <mo>+</mo>
      <!--|-->
      <msqrt>
        <!--|-->
        <msqrt>
          <mn> <!--|-->5<!--|--> </mn>
        </msqrt>
        <!--|-->
      </msqrt>
      <!--|-->
      <mo>+</mo>
      <!--|-->
      <mo>+</mo>
      <!--|-->
      <munderover>
        <mo> <!--|-->c<!--|--> </mo>
        <mn> <!--|-->2<!--|-->7<!--|--> </mn>
        <mn> <!--|-->∞<!--|--> </mn>
      </munderover>
      <!--|-->
    </math>
  </div>
  <script src="./helpers.js"></script>
  <script src="./script.js"></script>
</body>
